(()=>{"use strict";var e,t,n;!function(e){e[e.WIDTH=320]="WIDTH",e[e.HEIGHT=200]="HEIGHT"}(e||(e={})),function(e){e[e.WIDTH=4]="WIDTH",e[e.HEIGHT=3]="HEIGHT"}(t||(t={})),function(e){e[e.BLACK=0]="BLACK",e[e.BLUE=1]="BLUE",e[e.GREEN=2]="GREEN",e[e.CYAN=3]="CYAN",e[e.RED=4]="RED",e[e.MAGENTA=5]="MAGENTA",e[e.BROWN=6]="BROWN",e[e.LIGHT_GRAY=7]="LIGHT_GRAY",e[e.GRAY=8]="GRAY",e[e.LIGHT_BLUE=9]="LIGHT_BLUE",e[e.LIGHT_GREEN=10]="LIGHT_GREEN",e[e.LIGHT_CYAN=11]="LIGHT_CYAN",e[e.LIGHT_RED=12]="LIGHT_RED",e[e.LIGHT_MAGENTA=13]="LIGHT_MAGENTA",e[e.YELLOW=14]="YELLOW",e[e.WHITE=15]="WHITE"}(n||(n={}));const i=[0,170,43520,43690,11141120,11141290,11162880,11184810,5592405,5592575,5635925,5636095,16733525,16733695,16777045,16777215];let a,l;function o(){if(l=null,a=document.getElementById("lunar-canvas"),!a)return;a.style.display="none";const n=window.innerWidth,i=window.innerHeight;let H,s;const E=new DOMMatrix;n>=i?(a.width=e.WIDTH,a.height=e.HEIGHT,H=n,s=H*t.HEIGHT/t.WIDTH,i<s&&(s=i,H=s*t.WIDTH/t.HEIGHT)):(a.width=e.HEIGHT,a.height=e.WIDTH,s=i,H=s*t.HEIGHT/t.WIDTH,n<H&&(H=n,s=H*t.WIDTH/t.HEIGHT),E.a=E.d=E.e=0,E.b=-1,E.c=1,E.f=e.WIDTH),a.style.display="block",a.style.width=`${Math.floor(H)}px`,a.style.height=`${Math.floor(s)}px`,a.style.left=`${Math.floor((n-H)/2)}px`,a.style.top=`${Math.floor((i-s)/2)}px`,l=a.getContext("2d"),l&&(l.setTransform(E),l?(l.fillStyle="#000000",l.fillRect(0,0,e.WIDTH,e.HEIGHT),l.strokeStyle="#FF0000",l.beginPath(),l.moveTo(0,0),l.lineTo(10,10),l.stroke()):o())}new Array(i.length).fill(null).map(((e,t)=>{return n=i[t],new Uint8ClampedArray([n>>>16,255&n>>>8,255&n,255]);var n}));let H=null,s=!1,E=null;const T=()=>{null!=E&&E();const e=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);e.addEventListener("change",T),E=()=>e.removeEventListener("change",T),o()};document.addEventListener("DOMContentLoaded",(function(){document.addEventListener("dblclick",(e=>e.preventDefault()),{passive:!1}),window.addEventListener("touchmove",(e=>e.preventDefault()),{passive:!1}),document.addEventListener("visibilitychange",(()=>{"visible"===document.visibilityState&&!s&&null===H&&"wakeLock"in navigator&&(s=!0,navigator.wakeLock.request("screen").then((e=>{s&&(H=e,H.addEventListener("release",(()=>{s||(H=null)})))})).catch((e=>{})).finally((()=>s=!1)))})),window.addEventListener("resize",o),document.getElementById("main-content").innerHTML=`<canvas id="lunar-canvas" class="canvas" width="${e.WIDTH}" \n            height="${e.HEIGHT}"></canvas>`,a=document.getElementById("lunar-canvas"),a&&o(),T()}))})();